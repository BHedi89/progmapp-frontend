<app-header></app-header>
<div class="container main-container">
  <h2 class="welcome-msg">Új kvízkérdés létrehozása</h2>
  <form>
    <div class="alert alert-success" role="alert" *ngIf="textShow">
      Kvízkérdés sikeresen létrehozva
    </div>
    <div class="form-group row">
      <label class="col-sm-2 col-form-label">Kérdés szövege</label>
      <div class="col-sm-10" [(ngModel)]="question.text">
        <pre [froalaEditor]="options"><code></code></pre>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-form-label col-sm-2 pt-0">Kép (opcionális)</div>
      <div class="col-sm-10">
        <img src="/assets/img/empty.jpg" alt="" class="question-picture">
        <div>
          <input style="display: none" type="file" (change)="saveImage($event)" #fileInput>
          <button class="btn btn-primary mt-2" (click)="fileInput.click()">Kép feltöltése</button>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-sm-10">
        Szöveg előtte
        <input type="text" class="form-control" [(ngModel)]="question.possibleAnswers[0].textBefore">
      </div>
    </div>
    <div class="form-group row">
      <div class="col-sm-10">
        Kérdés típusa
        <select [(ngModel)]="question.possibleAnswers[0].type">
          <option value="buttons">Gombok</option>
          <option value="dropdown">Legördülő</option>
        </select>
      </div>
    </div>
    <div class="form-group row">
      <label for="inputAnswer" class="col-sm-2 col-form-label">Válaszok</label>
      <div class="col-sm-10" *ngFor="let a of question.possibleAnswers[0].possibleAnswerValues; let f = first">
        <textarea id="inputAnswer" name="answer" cols="50"
                  [(ngModel)]="a.text"></textarea>
          <label><input class="ml-2" type="checkbox" [(ngModel)]="a.isRightAnswer">Jó válasz</label>
        <button class="btn btn-danger" *ngIf="!f">Del</button>
      </div>
      <button class="btn btn-outline-success" (click)="addNewPossibleAnswer()">Új válaszlehetőség hozzáadása</button>
    </div>
    <div class="form-group row">
      <label for="inputFeedbackType" class="col-sm-2 col-form-label">Visszajelzés típusa</label>
      <div class="col-sm-10">
        <select class="form-control" id="inputFeedbackType" [(ngModel)]="question.feedbackType">
          <option selected disabled>Válassz...</option>
          <option value="">Nincs visszajelzés</option>
          <option value="trueFalseFeedback">Helyes/helytelen válasz</option>
          <option value="">Helyes válasz megmutatása</option>
        </select>
      </div>
    </div>
    <div class="form-group row">
      <label for="inputExplain" class="col-sm-2 col-form-label">Magyarázat</label>
      <div class="col-sm-10">
        <textarea class="form-control" id="inputExplain" placeholder="Magyarázat" rows="5" cols="10" name="explanation"
                  [(ngModel)]="question.explanationAfter">
        </textarea>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-sm-10">
        <button type="submit" class="btn btn-primary mb-4" (click)="saveQuizQuestion()">Kvízkérdés létrehozása</button>
      </div>
    </div>
  </form>
  <div class="container">
    <p class="lead"></p>
    <p class="lead mb-0"></p>
  </div>
</div>

